---
sidebar_position: 3
---
# 组件控制
:::info
在制作小组件和实时活动时,可以使用以下接口控制小组件刷新时间和实时活动主动关闭
:::
### 小组件刷新时间
小组件刷新时间设置,可使用刷新频率和指定刷新时间组合使用.
:::warning
- 小组件真正的刷新时间由系统控制,即使设置刷新频率和时间,也可能不会按时刷新.
- 每个小组件 24 小时内刷新次数为40-70次,应通过设置频率和刷新时间控制刷新总次数
- 理论上小组件展示次数越多,就会越符合设定的时间,这需要系统学习优化.
:::
#### 设置刷新频率
通过设置刷新频率,可以控制小组件下一次刷新时间间隔,建议最小设置为 5 分钟
``` js
//setUpdateFreq(minute)
setUpdateFreq(30)//每 30 分钟刷新一次
```
#### 设置刷新时间
当某个时间段小组件不需要刷新,可以将刷新时间设置为这个时间段结束后的时间
``` js
//setUpdateTime(timestamp)
const tomorrow = new Date()
tomorrow.setDate(tomorrow.getDate() + 1)
tomorrow.setHours(0, 1, 0, 0)
setUpdateTime(tomorrow.getTime())//设置下一次刷新时间为第二天 00:01
```

### 实时活动控制
可以使用代码控制实时活动主动结束
#### 结束实时活动
可以用于按键执行或者当没有信息要显示的时候主动结束
``` js
endLiveActivity()
```